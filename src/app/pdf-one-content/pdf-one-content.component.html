<div class="cv-container" id="cv-container">
  <!-- Encabezado -->
  <div class="header">
    <img class="logo" src="./assets/images/logo.png" alt="logo">
    <h3 class="title">Curriculum Vitae</h3>
  </div>

  <!-- Título CV -->
  <div class="cv-title">
    <label>Curriculum Vitae</label>
  </div>

  <!-- Datos Personales -->
  <div class="section">
    <h4>{{ languageTexts.datospersonales }}</h4>
    <div class="detail">
      <span>{{ languageTexts.apellidonombre }}: {{ apellido }} {{ nombre }}</span>
    </div>
    <div class="detail">
      <span>{{ languageTexts.nacionalidad }}: {{ nacionalidad }}</span>
    </div>
    <div class="detail">
      <span>{{ languageTexts.residenciaactual }}: {{ ciudad }}</span>
    </div>
    <div class="detail">
      <span>{{ languageTexts.edad }}: {{ edad }}</span>
    </div>
  </div>

  <!-- Estudios Cursados -->
  <div class="section">
    <h4>{{ languageTexts.estudioscursados }}</h4>
    <div *ngFor="let estudio of estudios" class="estudio">
      <div>
        <span class="label">{{ estudio.universidad }}</span>
      </div>
      <div>
        <span>{{ languageTexts.carrera }}: <strong>{{ estudio.carrera }}</strong></span>
      </div>
      <div>
        <span>{{ languageTexts.fechaInicio }}: <strong>{{ estudio.fechaIni | date:'yyyy' }}</strong></span>
      </div>
      <div>
        <span>{{ languageTexts.generacion }}:
          <strong>
            {{ isToday(estudio.generacion) ? languageTexts.actualidad : (estudio.generacion | date:'yyyy') }}
          </strong>
        </span>
      </div>
    </div>
  </div>

  <!-- Conocimientos y Skills -->
  <div class="skills-section" [class.two-columns]="conocimientos.length <= 14 && skills.length <= 14">
    <!-- Mostrar juntos si ambos tienen menos de 14 elementos -->
    <ng-container *ngIf="conocimientos.length <= 14 && skills.length <= 14 && conocimientos.length > 0 && skills.length > 0; else separateView">
      <div class="conocimientos">
        <h4>{{ languageTexts.conocimientotec }}</h4>
        <ul>
          <li *ngFor="let conocimiento of conocimientos">
            {{ conocimiento.conocimiento }}
          </li>
        </ul>
      </div>
      <div class="skills">
        <h4>{{ languageTexts.skillEt }}</h4>
        <ul>
          <li *ngFor="let skill of skills">
            {{ skill.skill }}
          </li>
        </ul>
      </div>
    </ng-container>

    <!-- Mostrar conocimientos y skills por separado -->
    <ng-template #separateView>
      <div class="skills-section-columns">
        <!-- Conocimientos en columnas dentro de una fila -->
        <div class="conocimientos2">
          <h4>{{ languageTexts.conocimientotec }}</h4>
          <ul class="conocimientos-list">
            <li *ngFor="let conocimiento of conocimientos">
              {{ conocimiento.conocimiento }}
            </li>
          </ul>
        </div>

        <!-- Skills debajo de los conocimientos, también en columnas -->
        <div *ngIf="skills.length > 0" class="skills2">
          <h4>{{ languageTexts.skillEt }}</h4>
          <ul class="skills-list">
            <li *ngFor="let skill of skills">
              {{ skill.skill }}
            </li>
          </ul>
        </div>
      </div>
    </ng-template>
  </div>

  <!-- EXPERIENCIA LAB -->
  <div class="section">
    <h4>{{ languageTexts.experiencialab }}</h4>
    <div *ngFor="let experiencia of experiencias" class="experience">
      <div>
        <span>{{ languageTexts.puesto }}: <strong>{{ experiencia.puesto }}</strong></span>
      </div>
      <div>
        <span>{{ languageTexts.empresa }}: <strong>{{ experiencia.empresa }}</strong></span>
      </div>
      <div>
        <span>{{ languageTexts.fecha }}:
          <strong>
            {{ experiencia.fechaIni ? capitalizeFirstLetter(experiencia.fechaIni) : '' }} -
            {{ experiencia.fechaFin ? capitalizeFirstLetter(experiencia.fechaFin) : languageTexts.actualidad }}
          </strong>
        </span>
      </div>
      <div>
        <span>{{ experiencia.descripcion }}</span>
      </div>
    </div>
  </div>

  <!-- CURSOS -->
  <div *ngIf="cursos.length > 0" class="section">
    <h4>{{ languageTexts.otrosEstudios }}</h4>
    <div *ngFor="let curso of cursos" class="course">
      <div>
        <span><strong>{{ curso.nombre }}</strong></span>
      </div>
      <div>
        <span><strong>{{ languageTexts.organizacion }}: {{ curso.organizacion }}</strong></span>
      </div>
      <div>
        <span>
          {{ capitalizeFirstLetter(curso.fechaIni) }} -
          {{ curso.fechaFin ? capitalizeFirstLetter(curso.fechaFin) : languageTexts.actualidad }}
        </span>
      </div>
      <div>
        <span>{{ languageTexts.descripcion }}: {{ curso.descripcion }}</span>
      </div>
    </div>
  </div>

  <!-- IDIOMAS -->
  <div class="skills-section-columns">
    <div class="conocimientos2">
      <h4>{{ languageTexts.idiomas }}</h4>
      <ul class="conocimientos-list">
        <li *ngFor="let idioma of idiomas">
          {{ idioma.idioma }} - {{ idioma.nivel }}
        </li>
      </ul>
    </div>
  </div>

   <!-- COMENTARIOS -->
   <div class="section">
    <h4>{{ languageTexts.comentariotTitulo }}</h4>
    <div class="detail">
      <span>{{ comentarios }}</span>
    </div>
  </div>
</div>
